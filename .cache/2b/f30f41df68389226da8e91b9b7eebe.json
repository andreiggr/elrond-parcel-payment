{"id":"geQM","dependencies":[{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/hw-transport-webusb/lib-es/webusb.js.map","includedInParent":true,"mtime":1647170302919},{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/package.json","includedInParent":true,"mtime":1647174146392},{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/hw-transport-webusb/package.json","includedInParent":true,"mtime":1647170302817},{"name":"@ledgerhq/devices","loc":{"line":1,"column":34,"index":34},"parent":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/hw-transport-webusb/lib-es/webusb.js","resolved":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/devices/lib-es/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getFirstLedgerDevice=o,exports.getLedgerDevices=s,exports.isSupported=void 0,exports.requestLedgerDevice=t;var e=require(\"@ledgerhq/devices\");const r=[{vendorId:e.ledgerUSBVendorId}];async function t(){return await navigator.usb.requestDevice({filters:r})}async function s(){return(await navigator.usb.getDevices()).filter(r=>r.vendorId===e.ledgerUSBVendorId)}async function o(){const e=await s();return e.length>0?e[0]:t()}const i=()=>Promise.resolve(!!navigator&&!!navigator.usb&&\"function\"==typeof navigator.usb.getDevices);exports.isSupported=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":0}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":13}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":20}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":35}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":43}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":56}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":57}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":64}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":68}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":76}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":97}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":99}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":107}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":124}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":126}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":134}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":151}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":153}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":161}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":181}},{"source":"../src/webusb.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":183}},{"source":"../src/webusb.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":187}},{"source":"../src/webusb.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":189}},{"source":"../src/webusb.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":197}},{"source":"../src/webusb.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":218}},{"source":"../src/webusb.js","name":"ledgerDevices","original":{"line":4,"column":6},"generated":{"line":1,"column":224}},{"source":"../src/webusb.js","name":null,"original":{"line":4,"column":22},"generated":{"line":1,"column":226}},{"source":"../src/webusb.js","name":null,"original":{"line":4,"column":23},"generated":{"line":1,"column":227}},{"source":"../src/webusb.js","name":"vendorId","original":{"line":4,"column":25},"generated":{"line":1,"column":228}},{"source":"../src/webusb.js","name":"ledgerUSBVendorId","original":{"line":4,"column":35},"generated":{"line":1,"column":237}},{"source":"../src/webusb.js","name":"ledgerUSBVendorId","original":{"line":4,"column":35},"generated":{"line":1,"column":239}},{"source":"../src/webusb.js","name":null,"original":{"line":6,"column":7},"generated":{"line":1,"column":259}},{"source":"../src/webusb.js","name":"requestLedgerDevice","original":{"line":6,"column":22},"generated":{"line":1,"column":274}},{"source":"../src/webusb.js","name":"device","original":{"line":9,"column":9},"generated":{"line":1,"column":278}},{"source":"../src/webusb.js","name":"navigator","original":{"line":8,"column":23},"generated":{"line":1,"column":291}},{"source":"../src/webusb.js","name":"usb","original":{"line":8,"column":33},"generated":{"line":1,"column":301}},{"source":"../src/webusb.js","name":"requestDevice","original":{"line":8,"column":37},"generated":{"line":1,"column":305}},{"source":"../src/webusb.js","name":null,"original":{"line":8,"column":51},"generated":{"line":1,"column":319}},{"source":"../src/webusb.js","name":"filters","original":{"line":8,"column":53},"generated":{"line":1,"column":320}},{"source":"../src/webusb.js","name":"ledgerDevices","original":{"line":8,"column":62},"generated":{"line":1,"column":328}},{"source":"../src/webusb.js","name":null,"original":{"line":12,"column":7},"generated":{"line":1,"column":332}},{"source":"../src/webusb.js","name":"getLedgerDevices","original":{"line":12,"column":22},"generated":{"line":1,"column":347}},{"source":"../src/webusb.js","name":"devices","original":{"line":15,"column":9},"generated":{"line":1,"column":351}},{"source":"../src/webusb.js","name":"navigator","original":{"line":14,"column":24},"generated":{"line":1,"column":364}},{"source":"../src/webusb.js","name":"usb","original":{"line":14,"column":34},"generated":{"line":1,"column":374}},{"source":"../src/webusb.js","name":"getDevices","original":{"line":14,"column":38},"generated":{"line":1,"column":378}},{"source":"../src/webusb.js","name":"filter","original":{"line":15,"column":17},"generated":{"line":1,"column":392}},{"source":"../src/webusb.js","name":"d","original":{"line":15,"column":25},"generated":{"line":1,"column":399}},{"source":"../src/webusb.js","name":"d","original":{"line":15,"column":31},"generated":{"line":1,"column":402}},{"source":"../src/webusb.js","name":"vendorId","original":{"line":15,"column":33},"generated":{"line":1,"column":404}},{"source":"../src/webusb.js","name":"ledgerUSBVendorId","original":{"line":15,"column":46},"generated":{"line":1,"column":415}},{"source":"../src/webusb.js","name":"devices","original":{"line":15,"column":9},"generated":{"line":1,"column":417}},{"source":"../src/webusb.js","name":null,"original":{"line":18,"column":7},"generated":{"line":1,"column":436}},{"source":"../src/webusb.js","name":"getFirstLedgerDevice","original":{"line":18,"column":22},"generated":{"line":1,"column":451}},{"source":"../src/webusb.js","name":"existingDevices","original":{"line":19,"column":8},"generated":{"line":1,"column":455}},{"source":"../src/webusb.js","name":"existingDevices","original":{"line":19,"column":8},"generated":{"line":1,"column":461}},{"source":"../src/webusb.js","name":"getLedgerDevices","original":{"line":19,"column":32},"generated":{"line":1,"column":469}},{"source":"../src/webusb.js","name":"existingDevices","original":{"line":20,"column":6},"generated":{"line":1,"column":473}},{"source":"../src/webusb.js","name":"existingDevices","original":{"line":20,"column":6},"generated":{"line":1,"column":480}},{"source":"../src/webusb.js","name":"length","original":{"line":20,"column":22},"generated":{"line":1,"column":482}},{"source":"../src/webusb.js","name":null,"original":{"line":20,"column":31},"generated":{"line":1,"column":489}},{"source":"../src/webusb.js","name":"existingDevices","original":{"line":20,"column":41},"generated":{"line":1,"column":491}},{"source":"../src/webusb.js","name":null,"original":{"line":20,"column":57},"generated":{"line":1,"column":493}},{"source":"../src/webusb.js","name":"requestLedgerDevice","original":{"line":21,"column":9},"generated":{"line":1,"column":496}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":500}},{"source":"../src/webusb.js","name":"isSupported","original":{"line":24,"column":13},"generated":{"line":1,"column":506}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":508}},{"source":"../src/webusb.js","name":"Promise","original":{"line":25,"column":2},"generated":{"line":1,"column":512}},{"source":"../src/webusb.js","name":"resolve","original":{"line":25,"column":10},"generated":{"line":1,"column":520}},{"source":"../src/webusb.js","name":"navigator","original":{"line":26,"column":6},"generated":{"line":1,"column":530}},{"source":"../src/webusb.js","name":"navigator","original":{"line":28,"column":8},"generated":{"line":1,"column":543}},{"source":"../src/webusb.js","name":"usb","original":{"line":28,"column":18},"generated":{"line":1,"column":553}},{"source":"../src/webusb.js","name":null,"original":{"line":29,"column":42},"generated":{"line":1,"column":558}},{"source":"../src/webusb.js","name":"navigator","original":{"line":29,"column":13},"generated":{"line":1,"column":577}},{"source":"../src/webusb.js","name":"usb","original":{"line":29,"column":23},"generated":{"line":1,"column":587}},{"source":"../src/webusb.js","name":"getDevices","original":{"line":29,"column":27},"generated":{"line":1,"column":591}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":603}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":611}},{"source":"../src/webusb.js","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":623}}],"sources":{"../src/webusb.js":"// @flow\nimport { ledgerUSBVendorId } from \"@ledgerhq/devices\";\n\nconst ledgerDevices = [{ vendorId: ledgerUSBVendorId }];\n\nexport async function requestLedgerDevice(): Promise<USBDevice> {\n  // $FlowFixMe\n  const device = await navigator.usb.requestDevice({ filters: ledgerDevices });\n  return device;\n}\n\nexport async function getLedgerDevices(): Promise<USBDevice[]> {\n  // $FlowFixMe\n  const devices = await navigator.usb.getDevices();\n  return devices.filter((d) => d.vendorId === ledgerUSBVendorId);\n}\n\nexport async function getFirstLedgerDevice(): Promise<USBDevice> {\n  const existingDevices = await getLedgerDevices();\n  if (existingDevices.length > 0) return existingDevices[0];\n  return requestLedgerDevice();\n}\n\nexport const isSupported = (): Promise<boolean> =>\n  Promise.resolve(\n    !!navigator &&\n      // $FlowFixMe\n      !!navigator.usb &&\n      typeof navigator.usb.getDevices === \"function\"\n  );\n"},"lineCount":null}},"error":null,"hash":"674fac169a3864f31e5239bb7f6be5fe","cacheData":{"env":{}}}