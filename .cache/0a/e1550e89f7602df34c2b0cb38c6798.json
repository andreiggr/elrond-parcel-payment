{"id":"rDnA","dependencies":[{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/hw-transport/lib-es/Transport.js.map","includedInParent":true,"mtime":1647170300143},{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/package.json","includedInParent":true,"mtime":1647174146392},{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/hw-transport/package.json","includedInParent":true,"mtime":1647170299959},{"name":"events","loc":{"line":1,"column":25,"index":25},"parent":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/hw-transport/lib-es/Transport.js","resolved":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/events/events.js"},{"name":"@ledgerhq/errors","loc":{"line":2,"column":111,"index":146},"parent":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/hw-transport/lib-es/Transport.js","resolved":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/errors/dist/index.js"},{"name":"buffer","parent":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@ledgerhq/hw-transport/lib-es/Transport.js","resolved":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;Object.defineProperty(exports,\"__esModule\",{value:!0}),Object.defineProperty(exports,\"StatusCodes\",{enumerable:!0,get:function(){return r.StatusCodes}}),Object.defineProperty(exports,\"TransportError\",{enumerable:!0,get:function(){return r.TransportError}}),Object.defineProperty(exports,\"TransportStatusError\",{enumerable:!0,get:function(){return r.TransportStatusError}}),exports.default=void 0,Object.defineProperty(exports,\"getAltStatusMessage\",{enumerable:!0,get:function(){return r.getAltStatusMessage}});var t=o(require(\"events\")),r=require(\"@ledgerhq/errors\");function o(e){return e&&e.__esModule?e:{default:e}}class s{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new t.default,this.send=(async(t,o,s,n,i=e.alloc(0),a=[r.StatusCodes.OK])=>{if(i.length>=256)throw new r.TransportError(\"data.length exceed 256 bytes limit. Got: \"+i.length,\"DataLengthTooBig\");const u=await this.exchange(e.concat([e.from([t,o,s,n]),e.from([i.length]),i])),c=u.readUInt16BE(u.length-2);if(!a.some(e=>e===c))throw new r.TransportStatusError(c);return u}),this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=(async e=>{if(this.exchangeBusyPromise)throw new r.TransportRaceCondition(\"An action was already pending on the Ledger device. Please deny or reconnect.\");let t;const o=new Promise(e=>{t=e});this.exchangeBusyPromise=o;let s=!1;const n=setTimeout(()=>{s=!0,this.emit(\"unresponsive\")},this.unresponsiveTimeout);try{const r=await e();return s&&this.emit(\"responsive\"),r}finally{clearTimeout(n),t&&t(),this.exchangeBusyPromise=null}}),this._appAPIlock=null}exchange(e){throw new Error(\"exchange not implemented\")}setScrambleKey(e){}close(){return Promise.resolve()}on(e,t){this._events.on(e,t)}off(e,t){this._events.removeListener(e,t)}emit(e,...t){this._events.emit(e,...t)}setDebugMode(){console.warn(\"setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.\")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,t){return new Promise((o,s)=>{let n=!1;const i=this.listen({next:t=>{n=!0,i&&i.unsubscribe(),a&&clearTimeout(a),this.open(t.descriptor,e).then(o,s)},error:e=>{a&&clearTimeout(a),s(e)},complete:()=>{a&&clearTimeout(a),n||s(new r.TransportError(this.ErrorMessage_NoDeviceFound,\"NoDeviceFound\"))}}),a=t?setTimeout(()=>{i.unsubscribe(),s(new r.TransportError(this.ErrorMessage_ListenTimeout,\"ListenTimeout\"))},t):null})}decorateAppAPIMethods(e,t,r){for(let o of t)e[o]=this.decorateAppAPIMethod(o,e[o],e,r)}decorateAppAPIMethod(e,t,o,s){return async(...n)=>{const{_appAPIlock:i}=this;if(i)return Promise.reject(new r.TransportError(\"Ledger Device is busy (lock \"+i+\")\",\"TransportLocked\"));try{return this._appAPIlock=e,this.setScrambleKey(s),await t.apply(o,n)}finally{this._appAPIlock=null}}}}exports.default=s,s.isSupported=void 0,s.list=void 0,s.listen=void 0,s.open=void 0,s.ErrorMessage_ListenTimeout=\"No Ledger device found (timeout)\",s.ErrorMessage_NoDeviceFound=\"No Ledger device found\";"},"sourceMaps":{"js":{"mappings":[{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":0}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":4}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":6}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":14}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":24}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":31}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":38}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":53}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":61}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":74}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":75}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":82}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":86}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":93}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":108}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":116}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":130}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":131}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":143}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":145}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":149}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":160}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":167}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":169}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":184}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":191}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":206}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":214}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":231}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":232}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":244}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":246}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":250}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":261}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":268}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":270}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":288}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":295}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":310}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":318}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":341}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":342}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":354}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":356}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":360}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":371}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":378}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":380}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":404}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":412}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":425}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":427}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":434}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":449}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":457}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":479}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":480}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":492}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":494}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":498}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":509}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":516}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":518}},{"source":"../src/Transport.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":541}},{"source":"../src/Transport.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":545}},{"source":"../src/Transport.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":547}},{"source":"../src/Transport.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":549}},{"source":"../src/Transport.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":557}},{"source":"../src/Transport.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":568}},{"source":"../src/Transport.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":570}},{"source":"../src/Transport.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":578}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":598}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":607}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":609}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":612}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":619}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":622}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":624}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":635}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":637}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":638}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":646}},{"source":"../src/Transport.js","name":null,"original":{"line":53,"column":15},"generated":{"line":2,"column":649}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":655}},{"source":"../src/Transport.js","name":null,"original":{"line":53,"column":43},"generated":{"line":2,"column":657}},{"source":"../src/Transport.js","name":"exchangeTimeout","original":{"line":54,"column":2},"generated":{"line":2,"column":671}},{"source":"../src/Transport.js","name":"exchangeTimeout","original":{"line":54,"column":2},"generated":{"line":2,"column":676}},{"source":"../src/Transport.js","name":null,"original":{"line":54,"column":28},"generated":{"line":2,"column":692}},{"source":"../src/Transport.js","name":"unresponsiveTimeout","original":{"line":55,"column":2},"generated":{"line":2,"column":696}},{"source":"../src/Transport.js","name":"unresponsiveTimeout","original":{"line":55,"column":2},"generated":{"line":2,"column":701}},{"source":"../src/Transport.js","name":null,"original":{"line":55,"column":32},"generated":{"line":2,"column":721}},{"source":"../src/Transport.js","name":"deviceModel","original":{"line":56,"column":2},"generated":{"line":2,"column":726}},{"source":"../src/Transport.js","name":"deviceModel","original":{"line":56,"column":2},"generated":{"line":2,"column":731}},{"source":"../src/Transport.js","name":null,"original":{"line":56,"column":30},"generated":{"line":2,"column":743}},{"source":"../src/Transport.js","name":"_events","original":{"line":134,"column":2},"generated":{"line":2,"column":748}},{"source":"../src/Transport.js","name":"_events","original":{"line":134,"column":2},"generated":{"line":2,"column":753}},{"source":"../src/Transport.js","name":null,"original":{"line":134,"column":12},"generated":{"line":2,"column":761}},{"source":"../src/Transport.js","name":"EventEmitter","original":{"line":134,"column":16},"generated":{"line":2,"column":765}},{"source":"../src/Transport.js","name":null,"original":{"line":134,"column":12},"generated":{"line":2,"column":767}},{"source":"../src/Transport.js","name":"send","original":{"line":189,"column":2},"generated":{"line":2,"column":775}},{"source":"../src/Transport.js","name":"send","original":{"line":189,"column":2},"generated":{"line":2,"column":780}},{"source":"../src/Transport.js","name":null,"original":{"line":189,"column":9},"generated":{"line":2,"column":785}},{"source":"../src/Transport.js","name":"cla","original":{"line":190,"column":4},"generated":{"line":2,"column":792}},{"source":"../src/Transport.js","name":"ins","original":{"line":191,"column":4},"generated":{"line":2,"column":794}},{"source":"../src/Transport.js","name":"p1","original":{"line":192,"column":4},"generated":{"line":2,"column":796}},{"source":"../src/Transport.js","name":"p2","original":{"line":193,"column":4},"generated":{"line":2,"column":798}},{"source":"../src/Transport.js","name":"data","original":{"line":194,"column":4},"generated":{"line":2,"column":800}},{"source":"../src/Transport.js","name":"Buffer","original":{"line":194,"column":19},"generated":{"line":2,"column":802}},{"source":"../src/Transport.js","name":"alloc","original":{"line":194,"column":26},"generated":{"line":2,"column":804}},{"source":"../src/Transport.js","name":null,"original":{"line":194,"column":32},"generated":{"line":2,"column":810}},{"source":"../src/Transport.js","name":"statusList","original":{"line":195,"column":4},"generated":{"line":2,"column":813}},{"source":"../src/Transport.js","name":null,"original":{"line":195,"column":32},"generated":{"line":2,"column":815}},{"source":"../src/Transport.js","name":"StatusCodes","original":{"line":195,"column":33},"generated":{"line":2,"column":816}},{"source":"../src/Transport.js","name":"OK","original":{"line":195,"column":45},"generated":{"line":2,"column":818}},{"source":"../src/Transport.js","name":"OK","original":{"line":195,"column":45},"generated":{"line":2,"column":830}},{"source":"../src/Transport.js","name":"data","original":{"line":197,"column":8},"generated":{"line":2,"column":837}},{"source":"../src/Transport.js","name":"data","original":{"line":197,"column":8},"generated":{"line":2,"column":840}},{"source":"../src/Transport.js","name":"length","original":{"line":197,"column":13},"generated":{"line":2,"column":842}},{"source":"../src/Transport.js","name":null,"original":{"line":197,"column":23},"generated":{"line":2,"column":850}},{"source":"../src/Transport.js","name":null,"original":{"line":198,"column":12},"generated":{"line":2,"column":854}},{"source":"../src/Transport.js","name":null,"original":{"line":198,"column":12},"generated":{"line":2,"column":860}},{"source":"../src/Transport.js","name":"TransportError","original":{"line":198,"column":16},"generated":{"line":2,"column":864}},{"source":"../src/Transport.js","name":null,"original":{"line":198,"column":12},"generated":{"line":2,"column":866}},{"source":"../src/Transport.js","name":null,"original":{"line":199,"column":8},"generated":{"line":2,"column":881}},{"source":"../src/Transport.js","name":"data","original":{"line":199,"column":54},"generated":{"line":2,"column":925}},{"source":"../src/Transport.js","name":"length","original":{"line":199,"column":59},"generated":{"line":2,"column":927}},{"source":"../src/Transport.js","name":null,"original":{"line":200,"column":8},"generated":{"line":2,"column":934}},{"source":"../src/Transport.js","name":"response","original":{"line":203,"column":10},"generated":{"line":2,"column":954}},{"source":"../src/Transport.js","name":"response","original":{"line":203,"column":10},"generated":{"line":2,"column":960}},{"source":"../src/Transport.js","name":null,"original":{"line":203,"column":27},"generated":{"line":2,"column":968}},{"source":"../src/Transport.js","name":"exchange","original":{"line":203,"column":32},"generated":{"line":2,"column":973}},{"source":"../src/Transport.js","name":"Buffer","original":{"line":204,"column":6},"generated":{"line":2,"column":982}},{"source":"../src/Transport.js","name":"concat","original":{"line":204,"column":13},"generated":{"line":2,"column":984}},{"source":"../src/Transport.js","name":null,"original":{"line":204,"column":20},"generated":{"line":2,"column":991}},{"source":"../src/Transport.js","name":"Buffer","original":{"line":205,"column":8},"generated":{"line":2,"column":992}},{"source":"../src/Transport.js","name":"from","original":{"line":205,"column":15},"generated":{"line":2,"column":994}},{"source":"../src/Transport.js","name":null,"original":{"line":205,"column":20},"generated":{"line":2,"column":999}},{"source":"../src/Transport.js","name":"cla","original":{"line":205,"column":21},"generated":{"line":2,"column":1000}},{"source":"../src/Transport.js","name":"ins","original":{"line":205,"column":26},"generated":{"line":2,"column":1002}},{"source":"../src/Transport.js","name":"p1","original":{"line":205,"column":31},"generated":{"line":2,"column":1004}},{"source":"../src/Transport.js","name":"p2","original":{"line":205,"column":35},"generated":{"line":2,"column":1006}},{"source":"../src/Transport.js","name":"Buffer","original":{"line":206,"column":8},"generated":{"line":2,"column":1010}},{"source":"../src/Transport.js","name":"from","original":{"line":206,"column":15},"generated":{"line":2,"column":1012}},{"source":"../src/Transport.js","name":null,"original":{"line":206,"column":20},"generated":{"line":2,"column":1017}},{"source":"../src/Transport.js","name":"data","original":{"line":206,"column":21},"generated":{"line":2,"column":1018}},{"source":"../src/Transport.js","name":"length","original":{"line":206,"column":26},"generated":{"line":2,"column":1020}},{"source":"../src/Transport.js","name":"data","original":{"line":207,"column":8},"generated":{"line":2,"column":1029}},{"source":"../src/Transport.js","name":"sw","original":{"line":210,"column":10},"generated":{"line":2,"column":1034}},{"source":"../src/Transport.js","name":"response","original":{"line":210,"column":15},"generated":{"line":2,"column":1036}},{"source":"../src/Transport.js","name":"readUInt16BE","original":{"line":210,"column":24},"generated":{"line":2,"column":1038}},{"source":"../src/Transport.js","name":"response","original":{"line":210,"column":37},"generated":{"line":2,"column":1051}},{"source":"../src/Transport.js","name":"length","original":{"line":210,"column":46},"generated":{"line":2,"column":1053}},{"source":"../src/Transport.js","name":null,"original":{"line":210,"column":55},"generated":{"line":2,"column":1060}},{"source":"../src/Transport.js","name":null,"original":{"line":211,"column":8},"generated":{"line":2,"column":1063}},{"source":"../src/Transport.js","name":"statusList","original":{"line":211,"column":9},"generated":{"line":2,"column":1067}},{"source":"../src/Transport.js","name":"some","original":{"line":211,"column":20},"generated":{"line":2,"column":1069}},{"source":"../src/Transport.js","name":"s","original":{"line":211,"column":26},"generated":{"line":2,"column":1074}},{"source":"../src/Transport.js","name":"s","original":{"line":211,"column":32},"generated":{"line":2,"column":1077}},{"source":"../src/Transport.js","name":"sw","original":{"line":211,"column":38},"generated":{"line":2,"column":1081}},{"source":"../src/Transport.js","name":null,"original":{"line":212,"column":12},"generated":{"line":2,"column":1084}},{"source":"../src/Transport.js","name":null,"original":{"line":212,"column":12},"generated":{"line":2,"column":1090}},{"source":"../src/Transport.js","name":"TransportStatusError","original":{"line":212,"column":16},"generated":{"line":2,"column":1094}},{"source":"../src/Transport.js","name":null,"original":{"line":212,"column":12},"generated":{"line":2,"column":1096}},{"source":"../src/Transport.js","name":"sw","original":{"line":212,"column":37},"generated":{"line":2,"column":1117}},{"source":"../src/Transport.js","name":"response","original":{"line":214,"column":11},"generated":{"line":2,"column":1120}},{"source":"../src/Transport.js","name":"response","original":{"line":214,"column":11},"generated":{"line":2,"column":1127}},{"source":"../src/Transport.js","name":"exchangeBusyPromise","original":{"line":267,"column":2},"generated":{"line":2,"column":1131}},{"source":"../src/Transport.js","name":"exchangeBusyPromise","original":{"line":267,"column":2},"generated":{"line":2,"column":1136}},{"source":"../src/Transport.js","name":null,"original":{"line":53,"column":43},"generated":{"line":2,"column":1161}},{"source":"../src/Transport.js","name":"exchangeAtomicImpl","original":{"line":270,"column":2},"generated":{"line":2,"column":1163}},{"source":"../src/Transport.js","name":"exchangeAtomicImpl","original":{"line":270,"column":2},"generated":{"line":2,"column":1168}},{"source":"../src/Transport.js","name":null,"original":{"line":270,"column":23},"generated":{"line":2,"column":1187}},{"source":"../src/Transport.js","name":null,"original":{"line":270,"column":23},"generated":{"line":2,"column":1194}},{"source":"../src/Transport.js","name":null,"original":{"line":271,"column":8},"generated":{"line":2,"column":1198}},{"source":"../src/Transport.js","name":null,"original":{"line":271,"column":8},"generated":{"line":2,"column":1201}},{"source":"../src/Transport.js","name":"exchangeBusyPromise","original":{"line":271,"column":13},"generated":{"line":2,"column":1206}},{"source":"../src/Transport.js","name":null,"original":{"line":272,"column":12},"generated":{"line":2,"column":1226}},{"source":"../src/Transport.js","name":null,"original":{"line":272,"column":12},"generated":{"line":2,"column":1232}},{"source":"../src/Transport.js","name":"TransportRaceCondition","original":{"line":272,"column":16},"generated":{"line":2,"column":1236}},{"source":"../src/Transport.js","name":null,"original":{"line":272,"column":12},"generated":{"line":2,"column":1238}},{"source":"../src/Transport.js","name":null,"original":{"line":273,"column":8},"generated":{"line":2,"column":1261}},{"source":"../src/Transport.js","name":"resolveBusy","original":{"line":276,"column":8},"generated":{"line":2,"column":1342}},{"source":"../src/Transport.js","name":"resolveBusy","original":{"line":276,"column":8},"generated":{"line":2,"column":1346}},{"source":"../src/Transport.js","name":"busyPromise","original":{"line":277,"column":10},"generated":{"line":2,"column":1348}},{"source":"../src/Transport.js","name":"busyPromise","original":{"line":277,"column":10},"generated":{"line":2,"column":1354}},{"source":"../src/Transport.js","name":null,"original":{"line":277,"column":24},"generated":{"line":2,"column":1356}},{"source":"../src/Transport.js","name":"Promise","original":{"line":277,"column":28},"generated":{"line":2,"column":1360}},{"source":"../src/Transport.js","name":"r","original":{"line":277,"column":37},"generated":{"line":2,"column":1368}},{"source":"../src/Transport.js","name":"resolveBusy","original":{"line":278,"column":6},"generated":{"line":2,"column":1372}},{"source":"../src/Transport.js","name":"r","original":{"line":278,"column":20},"generated":{"line":2,"column":1374}},{"source":"../src/Transport.js","name":"exchangeBusyPromise","original":{"line":280,"column":9},"generated":{"line":2,"column":1378}},{"source":"../src/Transport.js","name":"exchangeBusyPromise","original":{"line":280,"column":9},"generated":{"line":2,"column":1383}},{"source":"../src/Transport.js","name":"busyPromise","original":{"line":280,"column":31},"generated":{"line":2,"column":1403}},{"source":"../src/Transport.js","name":"unresponsiveReached","original":{"line":281,"column":8},"generated":{"line":2,"column":1405}},{"source":"../src/Transport.js","name":"unresponsiveReached","original":{"line":281,"column":8},"generated":{"line":2,"column":1409}},{"source":"../src/Transport.js","name":null,"original":{"line":281,"column":30},"generated":{"line":2,"column":1412}},{"source":"../src/Transport.js","name":"timeout","original":{"line":282,"column":10},"generated":{"line":2,"column":1414}},{"source":"../src/Transport.js","name":"timeout","original":{"line":282,"column":10},"generated":{"line":2,"column":1420}},{"source":"../src/Transport.js","name":"setTimeout","original":{"line":282,"column":20},"generated":{"line":2,"column":1422}},{"source":"../src/Transport.js","name":null,"original":{"line":282,"column":31},"generated":{"line":2,"column":1433}},{"source":"../src/Transport.js","name":"unresponsiveReached","original":{"line":283,"column":6},"generated":{"line":2,"column":1438}},{"source":"../src/Transport.js","name":null,"original":{"line":283,"column":28},"generated":{"line":2,"column":1441}},{"source":"../src/Transport.js","name":"emit","original":{"line":284,"column":11},"generated":{"line":2,"column":1443}},{"source":"../src/Transport.js","name":"emit","original":{"line":284,"column":11},"generated":{"line":2,"column":1448}},{"source":"../src/Transport.js","name":null,"original":{"line":284,"column":16},"generated":{"line":2,"column":1453}},{"source":"../src/Transport.js","name":null,"original":{"line":285,"column":7},"generated":{"line":2,"column":1470}},{"source":"../src/Transport.js","name":"unresponsiveTimeout","original":{"line":285,"column":12},"generated":{"line":2,"column":1475}},{"source":"../src/Transport.js","name":null,"original":{"line":286,"column":8},"generated":{"line":2,"column":1496}},{"source":"../src/Transport.js","name":"res","original":{"line":287,"column":12},"generated":{"line":2,"column":1500}},{"source":"../src/Transport.js","name":"res","original":{"line":287,"column":12},"generated":{"line":2,"column":1506}},{"source":"../src/Transport.js","name":"f","original":{"line":287,"column":24},"generated":{"line":2,"column":1514}},{"source":"../src/Transport.js","name":"res","original":{"line":291,"column":13},"generated":{"line":2,"column":1518}},{"source":"../src/Transport.js","name":"unresponsiveReached","original":{"line":288,"column":10},"generated":{"line":2,"column":1525}},{"source":"../src/Transport.js","name":"emit","original":{"line":289,"column":13},"generated":{"line":2,"column":1528}},{"source":"../src/Transport.js","name":"emit","original":{"line":289,"column":13},"generated":{"line":2,"column":1533}},{"source":"../src/Transport.js","name":null,"original":{"line":289,"column":18},"generated":{"line":2,"column":1538}},{"source":"../src/Transport.js","name":"res","original":{"line":291,"column":13},"generated":{"line":2,"column":1552}},{"source":"../src/Transport.js","name":null,"original":{"line":292,"column":14},"generated":{"line":2,"column":1554}},{"source":"../src/Transport.js","name":"clearTimeout","original":{"line":293,"column":6},"generated":{"line":2,"column":1562}},{"source":"../src/Transport.js","name":"timeout","original":{"line":293,"column":19},"generated":{"line":2,"column":1575}},{"source":"../src/Transport.js","name":"resolveBusy","original":{"line":294,"column":10},"generated":{"line":2,"column":1578}},{"source":"../src/Transport.js","name":"resolveBusy","original":{"line":294,"column":23},"generated":{"line":2,"column":1581}},{"source":"../src/Transport.js","name":"exchangeBusyPromise","original":{"line":295,"column":11},"generated":{"line":2,"column":1585}},{"source":"../src/Transport.js","name":"exchangeBusyPromise","original":{"line":295,"column":11},"generated":{"line":2,"column":1590}},{"source":"../src/Transport.js","name":null,"original":{"line":295,"column":33},"generated":{"line":2,"column":1610}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":314,"column":2},"generated":{"line":2,"column":1618}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":314,"column":2},"generated":{"line":2,"column":1623}},{"source":"../src/Transport.js","name":null,"original":{"line":314,"column":16},"generated":{"line":2,"column":1635}},{"source":"../src/Transport.js","name":"exchange","original":{"line":115,"column":2},"generated":{"line":2,"column":1640}},{"source":"../src/Transport.js","name":"_apdu","original":{"line":115,"column":11},"generated":{"line":2,"column":1649}},{"source":"../src/Transport.js","name":null,"original":{"line":116,"column":10},"generated":{"line":2,"column":1652}},{"source":"../src/Transport.js","name":null,"original":{"line":116,"column":10},"generated":{"line":2,"column":1658}},{"source":"../src/Transport.js","name":"Error","original":{"line":116,"column":14},"generated":{"line":2,"column":1662}},{"source":"../src/Transport.js","name":null,"original":{"line":116,"column":20},"generated":{"line":2,"column":1668}},{"source":"../src/Transport.js","name":"setScrambleKey","original":{"line":124,"column":2},"generated":{"line":2,"column":1696}},{"source":"../src/Transport.js","name":"_key","original":{"line":124,"column":17},"generated":{"line":2,"column":1711}},{"source":"../src/Transport.js","name":"close","original":{"line":130,"column":2},"generated":{"line":2,"column":1715}},{"source":"../src/Transport.js","name":"Promise","original":{"line":131,"column":11},"generated":{"line":2,"column":1723}},{"source":"../src/Transport.js","name":"Promise","original":{"line":131,"column":11},"generated":{"line":2,"column":1730}},{"source":"../src/Transport.js","name":"resolve","original":{"line":131,"column":19},"generated":{"line":2,"column":1738}},{"source":"../src/Transport.js","name":"on","original":{"line":141,"column":2},"generated":{"line":2,"column":1748}},{"source":"../src/Transport.js","name":"eventName","original":{"line":141,"column":5},"generated":{"line":2,"column":1751}},{"source":"../src/Transport.js","name":"cb","original":{"line":141,"column":24},"generated":{"line":2,"column":1753}},{"source":"../src/Transport.js","name":"_events","original":{"line":142,"column":9},"generated":{"line":2,"column":1756}},{"source":"../src/Transport.js","name":"_events","original":{"line":142,"column":9},"generated":{"line":2,"column":1761}},{"source":"../src/Transport.js","name":"on","original":{"line":142,"column":17},"generated":{"line":2,"column":1769}},{"source":"../src/Transport.js","name":"eventName","original":{"line":142,"column":20},"generated":{"line":2,"column":1772}},{"source":"../src/Transport.js","name":"cb","original":{"line":142,"column":31},"generated":{"line":2,"column":1774}},{"source":"../src/Transport.js","name":"off","original":{"line":148,"column":2},"generated":{"line":2,"column":1777}},{"source":"../src/Transport.js","name":"eventName","original":{"line":148,"column":6},"generated":{"line":2,"column":1781}},{"source":"../src/Transport.js","name":"cb","original":{"line":148,"column":25},"generated":{"line":2,"column":1783}},{"source":"../src/Transport.js","name":"_events","original":{"line":149,"column":9},"generated":{"line":2,"column":1786}},{"source":"../src/Transport.js","name":"_events","original":{"line":149,"column":9},"generated":{"line":2,"column":1791}},{"source":"../src/Transport.js","name":"removeListener","original":{"line":149,"column":17},"generated":{"line":2,"column":1799}},{"source":"../src/Transport.js","name":"eventName","original":{"line":149,"column":32},"generated":{"line":2,"column":1814}},{"source":"../src/Transport.js","name":"cb","original":{"line":149,"column":43},"generated":{"line":2,"column":1816}},{"source":"../src/Transport.js","name":"emit","original":{"line":152,"column":2},"generated":{"line":2,"column":1819}},{"source":"../src/Transport.js","name":"event","original":{"line":152,"column":7},"generated":{"line":2,"column":1824}},{"source":"../src/Transport.js","name":"args","original":{"line":152,"column":25},"generated":{"line":2,"column":1829}},{"source":"../src/Transport.js","name":"_events","original":{"line":153,"column":9},"generated":{"line":2,"column":1832}},{"source":"../src/Transport.js","name":"_events","original":{"line":153,"column":9},"generated":{"line":2,"column":1837}},{"source":"../src/Transport.js","name":"emit","original":{"line":153,"column":17},"generated":{"line":2,"column":1845}},{"source":"../src/Transport.js","name":"event","original":{"line":153,"column":22},"generated":{"line":2,"column":1850}},{"source":"../src/Transport.js","name":"args","original":{"line":153,"column":32},"generated":{"line":2,"column":1855}},{"source":"../src/Transport.js","name":"setDebugMode","original":{"line":159,"column":2},"generated":{"line":2,"column":1858}},{"source":"../src/Transport.js","name":"console","original":{"line":160,"column":4},"generated":{"line":2,"column":1873}},{"source":"../src/Transport.js","name":"warn","original":{"line":160,"column":12},"generated":{"line":2,"column":1881}},{"source":"../src/Transport.js","name":null,"original":{"line":161,"column":6},"generated":{"line":2,"column":1886}},{"source":"../src/Transport.js","name":"setExchangeTimeout","original":{"line":168,"column":2},"generated":{"line":2,"column":1982}},{"source":"../src/Transport.js","name":"exchangeTimeout","original":{"line":168,"column":21},"generated":{"line":2,"column":2001}},{"source":"../src/Transport.js","name":"exchangeTimeout","original":{"line":169,"column":9},"generated":{"line":2,"column":2004}},{"source":"../src/Transport.js","name":"exchangeTimeout","original":{"line":169,"column":9},"generated":{"line":2,"column":2009}},{"source":"../src/Transport.js","name":"exchangeTimeout","original":{"line":169,"column":27},"generated":{"line":2,"column":2025}},{"source":"../src/Transport.js","name":"setExchangeUnresponsiveTimeout","original":{"line":175,"column":2},"generated":{"line":2,"column":2027}},{"source":"../src/Transport.js","name":"unresponsiveTimeout","original":{"line":175,"column":33},"generated":{"line":2,"column":2058}},{"source":"../src/Transport.js","name":"unresponsiveTimeout","original":{"line":176,"column":9},"generated":{"line":2,"column":2061}},{"source":"../src/Transport.js","name":"unresponsiveTimeout","original":{"line":176,"column":9},"generated":{"line":2,"column":2066}},{"source":"../src/Transport.js","name":"unresponsiveTimeout","original":{"line":176,"column":31},"generated":{"line":2,"column":2086}},{"source":"../src/Transport.js","name":"create","original":{"line":224,"column":9},"generated":{"line":2,"column":2088}},{"source":"../src/Transport.js","name":"openTimeout","original":{"line":225,"column":4},"generated":{"line":2,"column":2102}},{"source":"../src/Transport.js","name":null,"original":{"line":225,"column":27},"generated":{"line":2,"column":2104}},{"source":"../src/Transport.js","name":"listenTimeout","original":{"line":226,"column":4},"generated":{"line":2,"column":2108}},{"source":"../src/Transport.js","name":null,"original":{"line":228,"column":11},"generated":{"line":2,"column":2111}},{"source":"../src/Transport.js","name":null,"original":{"line":228,"column":11},"generated":{"line":2,"column":2118}},{"source":"../src/Transport.js","name":"Promise","original":{"line":228,"column":15},"generated":{"line":2,"column":2122}},{"source":"../src/Transport.js","name":null,"original":{"line":228,"column":23},"generated":{"line":2,"column":2130}},{"source":"../src/Transport.js","name":"resolve","original":{"line":228,"column":24},"generated":{"line":2,"column":2131}},{"source":"../src/Transport.js","name":"reject","original":{"line":228,"column":33},"generated":{"line":2,"column":2133}},{"source":"../src/Transport.js","name":"found","original":{"line":229,"column":10},"generated":{"line":2,"column":2138}},{"source":"../src/Transport.js","name":"found","original":{"line":229,"column":10},"generated":{"line":2,"column":2142}},{"source":"../src/Transport.js","name":null,"original":{"line":229,"column":18},"generated":{"line":2,"column":2145}},{"source":"../src/Transport.js","name":"sub","original":{"line":230,"column":12},"generated":{"line":2,"column":2147}},{"source":"../src/Transport.js","name":"sub","original":{"line":230,"column":12},"generated":{"line":2,"column":2153}},{"source":"../src/Transport.js","name":null,"original":{"line":230,"column":18},"generated":{"line":2,"column":2155}},{"source":"../src/Transport.js","name":"listen","original":{"line":230,"column":23},"generated":{"line":2,"column":2160}},{"source":"../src/Transport.js","name":null,"original":{"line":230,"column":30},"generated":{"line":2,"column":2167}},{"source":"../src/Transport.js","name":"next","original":{"line":231,"column":8},"generated":{"line":2,"column":2168}},{"source":"../src/Transport.js","name":"e","original":{"line":231,"column":15},"generated":{"line":2,"column":2173}},{"source":"../src/Transport.js","name":"found","original":{"line":232,"column":10},"generated":{"line":2,"column":2177}},{"source":"../src/Transport.js","name":null,"original":{"line":232,"column":18},"generated":{"line":2,"column":2180}},{"source":"../src/Transport.js","name":"sub","original":{"line":233,"column":14},"generated":{"line":2,"column":2182}},{"source":"../src/Transport.js","name":"sub","original":{"line":233,"column":19},"generated":{"line":2,"column":2185}},{"source":"../src/Transport.js","name":"unsubscribe","original":{"line":233,"column":23},"generated":{"line":2,"column":2187}},{"source":"../src/Transport.js","name":"listenTimeoutId","original":{"line":234,"column":14},"generated":{"line":2,"column":2201}},{"source":"../src/Transport.js","name":"clearTimeout","original":{"line":234,"column":31},"generated":{"line":2,"column":2204}},{"source":"../src/Transport.js","name":"listenTimeoutId","original":{"line":234,"column":44},"generated":{"line":2,"column":2217}},{"source":"../src/Transport.js","name":"open","original":{"line":235,"column":15},"generated":{"line":2,"column":2220}},{"source":"../src/Transport.js","name":"open","original":{"line":235,"column":15},"generated":{"line":2,"column":2225}},{"source":"../src/Transport.js","name":"e","original":{"line":235,"column":20},"generated":{"line":2,"column":2230}},{"source":"../src/Transport.js","name":"descriptor","original":{"line":235,"column":22},"generated":{"line":2,"column":2232}},{"source":"../src/Transport.js","name":"openTimeout","original":{"line":235,"column":34},"generated":{"line":2,"column":2243}},{"source":"../src/Transport.js","name":"then","original":{"line":235,"column":47},"generated":{"line":2,"column":2246}},{"source":"../src/Transport.js","name":"resolve","original":{"line":235,"column":52},"generated":{"line":2,"column":2251}},{"source":"../src/Transport.js","name":"reject","original":{"line":235,"column":61},"generated":{"line":2,"column":2253}},{"source":"../src/Transport.js","name":"error","original":{"line":237,"column":8},"generated":{"line":2,"column":2257}},{"source":"../src/Transport.js","name":"e","original":{"line":237,"column":16},"generated":{"line":2,"column":2263}},{"source":"../src/Transport.js","name":"listenTimeoutId","original":{"line":238,"column":14},"generated":{"line":2,"column":2267}},{"source":"../src/Transport.js","name":"clearTimeout","original":{"line":238,"column":31},"generated":{"line":2,"column":2270}},{"source":"../src/Transport.js","name":"listenTimeoutId","original":{"line":238,"column":44},"generated":{"line":2,"column":2283}},{"source":"../src/Transport.js","name":"reject","original":{"line":239,"column":10},"generated":{"line":2,"column":2286}},{"source":"../src/Transport.js","name":"e","original":{"line":239,"column":17},"generated":{"line":2,"column":2288}},{"source":"../src/Transport.js","name":"complete","original":{"line":241,"column":8},"generated":{"line":2,"column":2292}},{"source":"../src/Transport.js","name":null,"original":{"line":241,"column":18},"generated":{"line":2,"column":2301}},{"source":"../src/Transport.js","name":"listenTimeoutId","original":{"line":242,"column":14},"generated":{"line":2,"column":2306}},{"source":"../src/Transport.js","name":"clearTimeout","original":{"line":242,"column":31},"generated":{"line":2,"column":2309}},{"source":"../src/Transport.js","name":"listenTimeoutId","original":{"line":242,"column":44},"generated":{"line":2,"column":2322}},{"source":"../src/Transport.js","name":"found","original":{"line":243,"column":15},"generated":{"line":2,"column":2325}},{"source":"../src/Transport.js","name":"reject","original":{"line":244,"column":12},"generated":{"line":2,"column":2328}},{"source":"../src/Transport.js","name":null,"original":{"line":245,"column":14},"generated":{"line":2,"column":2330}},{"source":"../src/Transport.js","name":"TransportError","original":{"line":245,"column":18},"generated":{"line":2,"column":2334}},{"source":"../src/Transport.js","name":null,"original":{"line":245,"column":14},"generated":{"line":2,"column":2336}},{"source":"../src/Transport.js","name":null,"original":{"line":246,"column":16},"generated":{"line":2,"column":2351}},{"source":"../src/Transport.js","name":"ErrorMessage_NoDeviceFound","original":{"line":246,"column":21},"generated":{"line":2,"column":2356}},{"source":"../src/Transport.js","name":null,"original":{"line":247,"column":16},"generated":{"line":2,"column":2383}},{"source":"../src/Transport.js","name":"listenTimeoutId","original":{"line":253,"column":12},"generated":{"line":2,"column":2404}},{"source":"../src/Transport.js","name":"listenTimeout","original":{"line":253,"column":30},"generated":{"line":2,"column":2406}},{"source":"../src/Transport.js","name":"setTimeout","original":{"line":254,"column":10},"generated":{"line":2,"column":2408}},{"source":"../src/Transport.js","name":null,"original":{"line":254,"column":21},"generated":{"line":2,"column":2419}},{"source":"../src/Transport.js","name":"sub","original":{"line":255,"column":12},"generated":{"line":2,"column":2424}},{"source":"../src/Transport.js","name":"unsubscribe","original":{"line":255,"column":16},"generated":{"line":2,"column":2426}},{"source":"../src/Transport.js","name":"reject","original":{"line":256,"column":12},"generated":{"line":2,"column":2440}},{"source":"../src/Transport.js","name":null,"original":{"line":257,"column":14},"generated":{"line":2,"column":2442}},{"source":"../src/Transport.js","name":"TransportError","original":{"line":257,"column":18},"generated":{"line":2,"column":2446}},{"source":"../src/Transport.js","name":null,"original":{"line":257,"column":14},"generated":{"line":2,"column":2448}},{"source":"../src/Transport.js","name":null,"original":{"line":258,"column":16},"generated":{"line":2,"column":2463}},{"source":"../src/Transport.js","name":"ErrorMessage_ListenTimeout","original":{"line":258,"column":21},"generated":{"line":2,"column":2468}},{"source":"../src/Transport.js","name":null,"original":{"line":259,"column":16},"generated":{"line":2,"column":2495}},{"source":"../src/Transport.js","name":"listenTimeout","original":{"line":262,"column":13},"generated":{"line":2,"column":2514}},{"source":"../src/Transport.js","name":null,"original":{"line":263,"column":10},"generated":{"line":2,"column":2517}},{"source":"../src/Transport.js","name":"decorateAppAPIMethods","original":{"line":299,"column":2},"generated":{"line":2,"column":2524}},{"source":"../src/Transport.js","name":"self","original":{"line":300,"column":4},"generated":{"line":2,"column":2546}},{"source":"../src/Transport.js","name":"methods","original":{"line":301,"column":4},"generated":{"line":2,"column":2548}},{"source":"../src/Transport.js","name":"scrambleKey","original":{"line":302,"column":4},"generated":{"line":2,"column":2550}},{"source":"../src/Transport.js","name":null,"original":{"line":304,"column":9},"generated":{"line":2,"column":2553}},{"source":"../src/Transport.js","name":null,"original":{"line":304,"column":9},"generated":{"line":2,"column":2557}},{"source":"../src/Transport.js","name":"methodName","original":{"line":304,"column":13},"generated":{"line":2,"column":2561}},{"source":"../src/Transport.js","name":"methods","original":{"line":304,"column":27},"generated":{"line":2,"column":2566}},{"source":"../src/Transport.js","name":"self","original":{"line":305,"column":6},"generated":{"line":2,"column":2568}},{"source":"../src/Transport.js","name":"methodName","original":{"line":305,"column":11},"generated":{"line":2,"column":2570}},{"source":"../src/Transport.js","name":null,"original":{"line":305,"column":25},"generated":{"line":2,"column":2573}},{"source":"../src/Transport.js","name":"decorateAppAPIMethod","original":{"line":305,"column":30},"generated":{"line":2,"column":2578}},{"source":"../src/Transport.js","name":"methodName","original":{"line":306,"column":8},"generated":{"line":2,"column":2599}},{"source":"../src/Transport.js","name":"self","original":{"line":307,"column":8},"generated":{"line":2,"column":2601}},{"source":"../src/Transport.js","name":"methodName","original":{"line":307,"column":13},"generated":{"line":2,"column":2603}},{"source":"../src/Transport.js","name":"self","original":{"line":308,"column":8},"generated":{"line":2,"column":2606}},{"source":"../src/Transport.js","name":"scrambleKey","original":{"line":309,"column":8},"generated":{"line":2,"column":2608}},{"source":"../src/Transport.js","name":"decorateAppAPIMethod","original":{"line":315,"column":2},"generated":{"line":2,"column":2611}},{"source":"../src/Transport.js","name":"methodName","original":{"line":316,"column":4},"generated":{"line":2,"column":2632}},{"source":"../src/Transport.js","name":"f","original":{"line":317,"column":4},"generated":{"line":2,"column":2634}},{"source":"../src/Transport.js","name":"ctx","original":{"line":318,"column":4},"generated":{"line":2,"column":2636}},{"source":"../src/Transport.js","name":"scrambleKey","original":{"line":319,"column":4},"generated":{"line":2,"column":2638}},{"source":"../src/Transport.js","name":null,"original":{"line":321,"column":11},"generated":{"line":2,"column":2641}},{"source":"../src/Transport.js","name":null,"original":{"line":321,"column":11},"generated":{"line":2,"column":2648}},{"source":"../src/Transport.js","name":"args","original":{"line":321,"column":21},"generated":{"line":2,"column":2657}},{"source":"../src/Transport.js","name":null,"original":{"line":322,"column":12},"generated":{"line":2,"column":2662}},{"source":"../src/Transport.js","name":null,"original":{"line":322,"column":12},"generated":{"line":2,"column":2668}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":322,"column":14},"generated":{"line":2,"column":2680}},{"source":"../src/Transport.js","name":null,"original":{"line":322,"column":30},"generated":{"line":2,"column":2683}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":323,"column":10},"generated":{"line":2,"column":2688}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":323,"column":10},"generated":{"line":2,"column":2691}},{"source":"../src/Transport.js","name":"Promise","original":{"line":324,"column":15},"generated":{"line":2,"column":2693}},{"source":"../src/Transport.js","name":"Promise","original":{"line":324,"column":15},"generated":{"line":2,"column":2700}},{"source":"../src/Transport.js","name":"reject","original":{"line":324,"column":23},"generated":{"line":2,"column":2708}},{"source":"../src/Transport.js","name":null,"original":{"line":325,"column":10},"generated":{"line":2,"column":2715}},{"source":"../src/Transport.js","name":"TransportError","original":{"line":325,"column":14},"generated":{"line":2,"column":2719}},{"source":"../src/Transport.js","name":null,"original":{"line":325,"column":10},"generated":{"line":2,"column":2721}},{"source":"../src/Transport.js","name":null,"original":{"line":326,"column":12},"generated":{"line":2,"column":2736}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":326,"column":45},"generated":{"line":2,"column":2767}},{"source":"../src/Transport.js","name":null,"original":{"line":326,"column":59},"generated":{"line":2,"column":2769}},{"source":"../src/Transport.js","name":null,"original":{"line":327,"column":12},"generated":{"line":2,"column":2773}},{"source":"../src/Transport.js","name":null,"original":{"line":331,"column":10},"generated":{"line":2,"column":2793}},{"source":"../src/Transport.js","name":null,"original":{"line":334,"column":15},"generated":{"line":2,"column":2797}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":332,"column":13},"generated":{"line":2,"column":2804}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":332,"column":13},"generated":{"line":2,"column":2809}},{"source":"../src/Transport.js","name":"methodName","original":{"line":332,"column":27},"generated":{"line":2,"column":2821}},{"source":"../src/Transport.js","name":"setScrambleKey","original":{"line":333,"column":13},"generated":{"line":2,"column":2823}},{"source":"../src/Transport.js","name":"setScrambleKey","original":{"line":333,"column":13},"generated":{"line":2,"column":2828}},{"source":"../src/Transport.js","name":"scrambleKey","original":{"line":333,"column":28},"generated":{"line":2,"column":2843}},{"source":"../src/Transport.js","name":"f","original":{"line":334,"column":21},"generated":{"line":2,"column":2852}},{"source":"../src/Transport.js","name":"apply","original":{"line":334,"column":23},"generated":{"line":2,"column":2854}},{"source":"../src/Transport.js","name":"ctx","original":{"line":334,"column":29},"generated":{"line":2,"column":2860}},{"source":"../src/Transport.js","name":"args","original":{"line":334,"column":34},"generated":{"line":2,"column":2862}},{"source":"../src/Transport.js","name":null,"original":{"line":335,"column":16},"generated":{"line":2,"column":2865}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":336,"column":13},"generated":{"line":2,"column":2873}},{"source":"../src/Transport.js","name":"_appAPIlock","original":{"line":336,"column":13},"generated":{"line":2,"column":2878}},{"source":"../src/Transport.js","name":null,"original":{"line":336,"column":27},"generated":{"line":2,"column":2890}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2898}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2906}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2914}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2916}},{"source":"../src/Transport.js","name":"isSupported","original":{"line":61,"column":10},"generated":{"line":2,"column":2918}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2935}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2937}},{"source":"../src/Transport.js","name":"list","original":{"line":69,"column":10},"generated":{"line":2,"column":2939}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2949}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2951}},{"source":"../src/Transport.js","name":"listen","original":{"line":91,"column":10},"generated":{"line":2,"column":2953}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2965}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2967}},{"source":"../src/Transport.js","name":"open","original":{"line":103,"column":10},"generated":{"line":2,"column":2969}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2979}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":2981}},{"source":"../src/Transport.js","name":"ErrorMessage_ListenTimeout","original":{"line":341,"column":9},"generated":{"line":2,"column":2983}},{"source":"../src/Transport.js","name":null,"original":{"line":341,"column":38},"generated":{"line":2,"column":3010}},{"source":"../src/Transport.js","name":"Transport","original":{"line":53,"column":21},"generated":{"line":2,"column":3045}},{"source":"../src/Transport.js","name":"ErrorMessage_NoDeviceFound","original":{"line":342,"column":9},"generated":{"line":2,"column":3047}},{"source":"../src/Transport.js","name":null,"original":{"line":342,"column":38},"generated":{"line":2,"column":3074}}],"sources":{"../src/Transport.js":"//@flow\n\nimport EventEmitter from \"events\";\nimport type { DeviceModel } from \"@ledgerhq/devices\";\nimport {\n  TransportRaceCondition,\n  TransportError,\n  StatusCodes,\n  getAltStatusMessage,\n  TransportStatusError,\n} from \"@ledgerhq/errors\";\n\nexport {\n  TransportError,\n  TransportStatusError,\n  StatusCodes,\n  getAltStatusMessage,\n};\n\n/**\n */\nexport type Subscription = { unsubscribe: () => void };\n\n/**\n */\nexport type Device = Object;\n\n/**\n * type: add or remove event\n * descriptor: a parameter that can be passed to open(descriptor)\n * deviceModel: device info on the model (is it a nano s, nano x, ...)\n * device: transport specific device info\n */\nexport type DescriptorEvent<Descriptor> = {\n  type: \"add\" | \"remove\",\n  descriptor: Descriptor,\n  deviceModel?: ?DeviceModel,\n  device?: Device,\n};\n/**\n */\nexport type Observer<Ev> = $ReadOnly<{\n  next: (event: Ev) => mixed,\n  error: (e: any) => mixed,\n  complete: () => mixed,\n}>;\n\n/**\n * Transport defines the generic interface to share between node/u2f impl\n * A **Descriptor** is a parametric type that is up to be determined for the implementation.\n * it can be for instance an ID, an file path, a URL,...\n */\nexport default class Transport<Descriptor> {\n  exchangeTimeout: number = 30000;\n  unresponsiveTimeout: number = 15000;\n  deviceModel: ?DeviceModel = null;\n\n  /**\n   * Statically check if a transport is supported on the user's platform/browser.\n   */\n  static +isSupported: () => Promise<boolean>;\n\n  /**\n   * List once all available descriptors. For a better granularity, checkout `listen()`.\n   * @return a promise of descriptors\n   * @example\n   * TransportFoo.list().then(descriptors => ...)\n   */\n  static +list: () => Promise<Array<Descriptor>>;\n\n  /**\n   * Listen all device events for a given Transport. The method takes an Obverver of DescriptorEvent and returns a Subscription (according to Observable paradigm https://github.com/tc39/proposal-observable )\n   * a DescriptorEvent is a `{ descriptor, type }` object. type can be `\"add\"` or `\"remove\"` and descriptor is a value you can pass to `open(descriptor)`.\n   * each listen() call will first emit all potential device already connected and then will emit events can come over times,\n   * for instance if you plug a USB device after listen() or a bluetooth device become discoverable.\n   * @param observer is an object with a next, error and complete function (compatible with observer pattern)\n   * @return a Subscription object on which you can `.unsubscribe()` to stop listening descriptors.\n   * @example\nconst sub = TransportFoo.listen({\n  next: e => {\n    if (e.type===\"add\") {\n      sub.unsubscribe();\n      const transport = await TransportFoo.open(e.descriptor);\n      ...\n    }\n  },\n  error: error => {},\n  complete: () => {}\n})\n   */\n  static +listen: (\n    observer: Observer<DescriptorEvent<Descriptor>>\n  ) => Subscription;\n\n  /**\n   * attempt to create a Transport instance with potentially a descriptor.\n   * @param descriptor: the descriptor to open the transport with.\n   * @param timeout: an optional timeout\n   * @return a Promise of Transport instance\n   * @example\nTransportFoo.open(descriptor).then(transport => ...)\n   */\n  static +open: (\n    descriptor: Descriptor,\n    timeout?: number\n  ) => Promise<Transport<Descriptor>>;\n\n  /**\n   * low level api to communicate with the device\n   * This method is for implementations to implement but should not be directly called.\n   * Instead, the recommanded way is to use send() method\n   * @param apdu the data to send\n   * @return a Promise of response data\n   */\n  exchange(_apdu: Buffer): Promise<Buffer> {\n    throw new Error(\"exchange not implemented\");\n  }\n\n  /**\n   * set the \"scramble key\" for the next exchanges with the device.\n   * Each App can have a different scramble key and they internally will set it at instanciation.\n   * @param key the scramble key\n   */\n  setScrambleKey(_key: string) {}\n\n  /**\n   * close the exchange with the device.\n   * @return a Promise that ends when the transport is closed.\n   */\n  close(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  _events = new EventEmitter();\n\n  /**\n   * Listen to an event on an instance of transport.\n   * Transport implementation can have specific events. Here is the common events:\n   * * `\"disconnect\"` : triggered if Transport is disconnected\n   */\n  on(eventName: string, cb: Function) {\n    this._events.on(eventName, cb);\n  }\n\n  /**\n   * Stop listening to an event on an instance of transport.\n   */\n  off(eventName: string, cb: Function) {\n    this._events.removeListener(eventName, cb);\n  }\n\n  emit(event: string, ...args: *) {\n    this._events.emit(event, ...args);\n  }\n\n  /**\n   * Enable or not logs of the binary exchange\n   */\n  setDebugMode() {\n    console.warn(\n      \"setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.\"\n    );\n  }\n\n  /**\n   * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)\n   */\n  setExchangeTimeout(exchangeTimeout: number) {\n    this.exchangeTimeout = exchangeTimeout;\n  }\n\n  /**\n   * Define the delay before emitting \"unresponsive\" on an exchange that does not respond\n   */\n  setExchangeUnresponsiveTimeout(unresponsiveTimeout: number) {\n    this.unresponsiveTimeout = unresponsiveTimeout;\n  }\n\n  /**\n   * wrapper on top of exchange to simplify work of the implementation.\n   * @param cla\n   * @param ins\n   * @param p1\n   * @param p2\n   * @param data\n   * @param statusList is a list of accepted status code (shorts). [0x9000] by default\n   * @return a Promise of response buffer\n   */\n  send = async (\n    cla: number,\n    ins: number,\n    p1: number,\n    p2: number,\n    data: Buffer = Buffer.alloc(0),\n    statusList: Array<number> = [StatusCodes.OK]\n  ): Promise<Buffer> => {\n    if (data.length >= 256) {\n      throw new TransportError(\n        \"data.length exceed 256 bytes limit. Got: \" + data.length,\n        \"DataLengthTooBig\"\n      );\n    }\n    const response = await this.exchange(\n      Buffer.concat([\n        Buffer.from([cla, ins, p1, p2]),\n        Buffer.from([data.length]),\n        data,\n      ])\n    );\n    const sw = response.readUInt16BE(response.length - 2);\n    if (!statusList.some((s) => s === sw)) {\n      throw new TransportStatusError(sw);\n    }\n    return response;\n  };\n\n  /**\n   * create() allows to open the first descriptor available or\n   * throw if there is none or if timeout is reached.\n   * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)\n   * @example\nTransportFoo.create().then(transport => ...)\n   */\n  static create(\n    openTimeout?: number = 3000,\n    listenTimeout?: number\n  ): Promise<Transport<Descriptor>> {\n    return new Promise((resolve, reject) => {\n      let found = false;\n      const sub = this.listen({\n        next: (e) => {\n          found = true;\n          if (sub) sub.unsubscribe();\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          this.open(e.descriptor, openTimeout).then(resolve, reject);\n        },\n        error: (e) => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          reject(e);\n        },\n        complete: () => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          if (!found) {\n            reject(\n              new TransportError(\n                this.ErrorMessage_NoDeviceFound,\n                \"NoDeviceFound\"\n              )\n            );\n          }\n        },\n      });\n      const listenTimeoutId = listenTimeout\n        ? setTimeout(() => {\n            sub.unsubscribe();\n            reject(\n              new TransportError(\n                this.ErrorMessage_ListenTimeout,\n                \"ListenTimeout\"\n              )\n            );\n          }, listenTimeout)\n        : null;\n    });\n  }\n\n  exchangeBusyPromise: ?Promise<void>;\n\n  // $FlowFixMe\n  exchangeAtomicImpl = async (f) => {\n    if (this.exchangeBusyPromise) {\n      throw new TransportRaceCondition(\n        \"An action was already pending on the Ledger device. Please deny or reconnect.\"\n      );\n    }\n    let resolveBusy;\n    const busyPromise = new Promise((r) => {\n      resolveBusy = r;\n    });\n    this.exchangeBusyPromise = busyPromise;\n    let unresponsiveReached = false;\n    const timeout = setTimeout(() => {\n      unresponsiveReached = true;\n      this.emit(\"unresponsive\");\n    }, this.unresponsiveTimeout);\n    try {\n      const res = await f();\n      if (unresponsiveReached) {\n        this.emit(\"responsive\");\n      }\n      return res;\n    } finally {\n      clearTimeout(timeout);\n      if (resolveBusy) resolveBusy();\n      this.exchangeBusyPromise = null;\n    }\n  };\n\n  decorateAppAPIMethods(\n    self: Object,\n    methods: Array<string>,\n    scrambleKey: string\n  ) {\n    for (let methodName of methods) {\n      self[methodName] = this.decorateAppAPIMethod(\n        methodName,\n        self[methodName],\n        self,\n        scrambleKey\n      );\n    }\n  }\n\n  _appAPIlock = null;\n  decorateAppAPIMethod<R, A: any[]>(\n    methodName: string,\n    f: (...args: A) => Promise<R>,\n    ctx: *,\n    scrambleKey: string\n  ): (...args: A) => Promise<R> {\n    return async (...args) => {\n      const { _appAPIlock } = this;\n      if (_appAPIlock) {\n        return Promise.reject(\n          new TransportError(\n            \"Ledger Device is busy (lock \" + _appAPIlock + \")\",\n            \"TransportLocked\"\n          )\n        );\n      }\n      try {\n        this._appAPIlock = methodName;\n        this.setScrambleKey(scrambleKey);\n        return await f.apply(ctx, args);\n      } finally {\n        this._appAPIlock = null;\n      }\n    };\n  }\n\n  static ErrorMessage_ListenTimeout = \"No Ledger device found (timeout)\";\n  static ErrorMessage_NoDeviceFound = \"No Ledger device found\";\n}\n"},"lineCount":null}},"error":null,"hash":"c1efbc49ba799006975a9168fc22f8fa","cacheData":{"env":{}}}