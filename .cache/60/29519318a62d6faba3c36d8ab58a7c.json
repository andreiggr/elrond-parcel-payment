{"id":"node_modules/@elrondnetwork/erdjs/out/smartcontracts/abi.js","dependencies":[{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/smartcontracts/abi.js.map","includedInParent":true,"mtime":1647170304862},{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/package.json","includedInParent":true,"mtime":1647174146392},{"name":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/package.json","includedInParent":true,"mtime":1647170304850},{"name":"../errors","loc":{"line":13,"column":25,"index":818},"parent":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/smartcontracts/abi.js","resolved":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/errors.js"},{"name":"../testutils","loc":{"line":14,"column":28,"index":860},"parent":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/smartcontracts/abi.js","resolved":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/testutils/index.js"},{"name":"../utils","loc":{"line":15,"column":24,"index":901},"parent":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/smartcontracts/abi.js","resolved":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/utils.js"},{"name":"./function","loc":{"line":16,"column":27,"index":941},"parent":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/smartcontracts/abi.js","resolved":"/Users/mac/code/work/bitmarket/elrond-parcel/node_modules/@elrondnetwork/erdjs/out/smartcontracts/function.js"}],"generated":{"js":"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SmartContractAbi = void 0;\nconst errors_1 = require(\"../errors\");\nconst testutils_1 = require(\"../testutils\");\nconst utils_1 = require(\"../utils\");\nconst function_1 = require(\"./function\");\nclass SmartContractAbi {\n    constructor(registry, implementsInterfaces) {\n        this.interfaces = [];\n        this.interfaces.push(...registry.getInterfaces(implementsInterfaces));\n    }\n    static fromAbiPath(abiPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let abiRegistry = yield testutils_1.loadAbiRegistry([abiPath]);\n            let interfaceNames = abiRegistry.interfaces.map(iface => iface.name);\n            return new SmartContractAbi(abiRegistry, interfaceNames);\n        });\n    }\n    getAllEndpoints() {\n        let endpoints = [];\n        for (const iface of this.interfaces) {\n            endpoints.push(...iface.endpoints);\n        }\n        return endpoints;\n    }\n    getEndpoint(name) {\n        if (name instanceof function_1.ContractFunction) {\n            name = name.name;\n        }\n        let result = this.getAllEndpoints().find(item => item.name === name);\n        utils_1.guardValueIsSet(\"result\", result);\n        return result;\n    }\n    getConstructorDefinition() {\n        let constructors = [];\n        for (const iface of this.interfaces) {\n            let constructor_definition = iface.getConstructorDefinition();\n            if (constructor_definition !== null) {\n                constructors.push(constructor_definition);\n            }\n        }\n        switch (constructors.length) {\n            case 0:\n                return null;\n            case 1:\n                return constructors[0];\n            default:\n                throw new errors_1.ErrInvariantFailed(`Found more than 1 constructor (found ${constructors.length})`);\n        }\n    }\n}\nexports.SmartContractAbi = SmartContractAbi;\n"},"sourceMaps":{"js":{"version":3,"file":"abi.js","sourceRoot":"","sources":["../../src/smartcontracts/abi.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,sCAA+C;AAC/C,4CAA+C;AAC/C,oCAA2C;AAC3C,yCAA8C;AAI9C,MAAa,gBAAgB;IAGzB,YAAY,QAAqB,EAAE,oBAA8B;QAFhD,eAAU,GAAwB,EAAE,CAAC;QAGlD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC,CAAC;IAC1E,CAAC;IAED,MAAM,CAAO,WAAW,CAAC,OAAe;;YACpC,IAAI,WAAW,GAAG,MAAM,2BAAe,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACnD,IAAI,cAAc,GAAG,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACrE,OAAO,IAAI,gBAAgB,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;QAC7D,CAAC;KAAA;IAED,eAAe;QACX,IAAI,SAAS,GAAG,EAAE,CAAC;QAEnB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,UAAU,EAAE;YACjC,SAAS,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;SACtC;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,WAAW,CAAC,IAA+B;QACvC,IAAI,IAAI,YAAY,2BAAgB,EAAE;YAClC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;SACpB;QACD,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;QACrE,uBAAe,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAClC,OAAO,MAAO,CAAC;IACnB,CAAC;IAED,wBAAwB;QACpB,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,UAAU,EAAE;YACjC,IAAI,sBAAsB,GAAG,KAAK,CAAC,wBAAwB,EAAE,CAAC;YAC9D,IAAI,sBAAsB,KAAK,IAAI,EAAE;gBACjC,YAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;aAC7C;SACJ;QACD,QAAQ,YAAY,CAAC,MAAM,EAAE;YACzB,KAAK,CAAC;gBACF,OAAO,IAAI,CAAC;YAChB,KAAK,CAAC;gBACF,OAAO,YAAY,CAAC,CAAC,CAAC,CAAC;YAC3B;gBACI,MAAM,IAAI,2BAAkB,CAAC,wCAAwC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;SACpG;IACL,CAAC;CACJ;AAjDD,4CAiDC","sourcesContent":[null]}},"error":null,"hash":"3dbf3a29cf4011454643aab049856fb4","cacheData":{"env":{}}}